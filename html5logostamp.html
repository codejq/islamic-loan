<html dir="rtl"  style="direction:rtl"><head>
<META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE" />
<META HTTP-EQUIV="EXPIRES" CONTENT="-1" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="author" content="codejq@gmail.com">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>كتابة الشعار علي الصور</title>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.rtl.min.css" integrity="sha384-gXt9imSW0VcJVHezoNQsP+TNrjYXoGcrqBZJpry9zJt8PCQjobwmhMGaDHTASo9N" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</head>
<body style="direction:rtl">
   
<nav class="navbar text-white sticky-top" 
style="direction:rtl;background-color: #28739b;color:#ffffff">

          <a href="index.html" class="navbar-brand " 
		  style="color:#ffffff">
            <strong>كتابة الشعار علي الصور</strong>
          </a>
 
	  <img src="./images/1.svg" width="100" 
	  class="d-inline-block align-top" alt="">
 
  </nav>
      
  
     <!-- ======= Menu Section ======= -->
<section id="menu" class="menu section-bg">
  <div class="container" data-aos="fade-up">

 

    <div class="row" data-aos="fade-up" data-aos-delay="100">
	
	

<div class="col-md-12   p-3"> 
	<p>اختر الصورة من هنا 
	<input type="file" id="UploadImageInput" 
	name="UploadImageInput" value="#27739b" 
	onkeyup="ChangeOrginalImage();" 
	onchange="ChangeOrginalImage();" 
	onclick="ChangeOrginalImage();" 
	onpropertychanged="ChangeOrginalImage();">
	</p>
<div class="row">
	<div class="col-md-4">	
		<p>حجم الشعار: </p>
		<div class="form-check">
		  <input class="form-check-input" value="50x50" type="radio"  checked="checked" name="logoSize" id="logoSize1">
		  <label class="form-check-label" for="logoSize1">
			50x50
		  </label>
		</div>
		<div class="form-check">
		  <input class="form-check-input" value="100x100"  type="radio" name="logoSize" id="logoSize2"  >
		  <label class="form-check-label" for="logoSize2">
			100x100
		  </label>
		</div>

		<div class="form-check">
		  <input class="form-check-input" value="200x200" type="radio" name="logoSize" id="logoSize3"  >
		  <label class="form-check-label" for="logoSize3">
			200x200
		  </label>
		</div>

		<div class="form-check">
		  <input class="form-check-input" value="300x300" type="radio" name="logoSize" id="logoSize4"  >
		  <label class="form-check-label" for="logoSize4">
			300x300
		  </label>
		</div>
	</div>
	<div class="col-md-4">	
		<p>موقع الشعار: </p>
		
		<div class="form-check">
		  <input class="form-check-input" value="1" type="radio"   checked="checked" name="logoPos" id="logoPos2"  >
		  <label class="form-check-label" for="logoPos2">
			اعلي يسار
		  </label>
		</div>
		
		<div class="form-check">
		  <input class="form-check-input" value="2"  type="radio" name="logoPos" id="logoPos1">
		  <label class="form-check-label" for="logoPos1">
			اعلي يمين
		  </label>
		</div>
	

		<div class="form-check">
		  <input class="form-check-input"  value="3"  type="radio" name="logoPos" id="logoPos3"  >
		  <label class="form-check-label" for="logoPos3">
			اسفل يمين
		  </label>
		</div>

		<div class="form-check">
		  <input class="form-check-input"  value="4"  type="radio" name="logoPos" id="logoPos4"  >
		  <label class="form-check-label" for="logoPos4">
			اسفل يسار
		  </label>
		</div>
	</div>
	
	<div class="col-md-4">	
		<p>لون الشعار: </p>
		
		<div class="form-check">
		  <input class="form-check-input" value="./images/1.png" type="radio"   checked="checked" name="logoColor" id="logoColor1"  >
		  <label class="form-check-label" for="logoColor1">
			<img src="./images/1.png" height="50" >
		  </label>
		</div>
		
		<div class="form-check">
		  <input class="form-check-input" value="./images/2.png"  type="radio" name="logoColor" id="logoColor2">
		  <label class="form-check-label" for="logoColor2" style="background:#000000">
			<img src="./images/2.png" height="50"  >
		  </label>
		</div>
	 
	</div>
	
	
</div>

	<div class="row">
		<img id="logo" src="" style="display:none">
		<img id="originalImage" onload="UploadImage();"  style="display:none;position:absolute" >
		<button class="btn btn-success p-2 " onclick="DownloadImage();return false;">تحميل الصورة </button>
	</div>
</div>
<div class="col-md-12 text-center p-3"> 
<canvas class="img-fluid" id="myCanvas" width="600" height="600"></canvas>
</div>
</div>
</div>

<div class="row">
<div class="col-md-12">
<hr/>
<p>&nbsp;</p>
</div>
</div>
</section>

<footer class="navbar  fixed-bottom" style="background-color: #28739b;color:#ffffff">
    <div class="container" >
        <div class="copyright" style="color:#ffffff">
         جميع الحقوق محفوظة © 
        </div>
        
      </div>
    </footer><!-- End Footer -->
	
	
<script>

window.onload = function(){
     /*var canvas = document.getElementById("myCanvas");
     var context = canvas.getContext("2d");
     var imageObj = new Image();
     imageObj.onload = function(){
         context.drawImage(imageObj, 0, 0);
         //context.font = "25pt Calibri ";
         //context.fillText("السلام عليكم ورحمة الله وبركاته ", 800, 60);
     };
     imageObj.src = "./img2.jpg";*/
	//document.getElementById("originalImage").src=logoPath;
	const elemets = document.querySelectorAll('.form-check-input');
		elemets.forEach(el => el.addEventListener('click', event => {
		   UploadImage()
	}));
	
};

function Download(){
  var link = document.createElement('a');
  link.download = 'filename.png';
  link.href = document.getElementById('myCanvas').toDataURL("image/png")
  link.click();
}

function DownloadImage(){
	var canvas = document.getElementById("myCanvas");
	var data = canvas.toDataURL("image/png");
	var link = document.createElement('a');
	link.download = 'filename.png';
	link.href = data.replace("image/png", "image/octet-stream");
	link.click();
}
function ChangeOrginalImage(){
	var dataUrl = "";  
	var input = document.getElementById("UploadImageInput");
	var fReader = new FileReader();
	fReader.readAsDataURL(input.files[0]);
	fReader.onloadend = function(event){
		var img = document.getElementById("originalImage");
		img.src = event.target.result;
		
	}
}

function UploadImage(){
/*
	 var text = document.getElementById("usertext").value;
     var canvas = document.getElementById("myCanvas");
     var context = canvas.getContext("2d");
     var imageObj = new Image();
     imageObj.onload = function(){
         context.drawImage(imageObj, 0, 0);
         context.font = "25pt Calibri ";
		 context.fillStyle = document.getElementById("UploadImageInput").value;
		 context.strokeStyle = document.getElementById("UploadImageInput").value;
		 console.log(document.getElementById("UploadImageInput").value);
		 context.textAlign = "center";
		 var textArray = text.split("\n");
		 for(var i = 0 ; i < textArray.length ; i++){ 
			context.strokeText(textArray[i], 50+ canvas.width/2, 430 + (i * 60) );
			context.fillText(textArray[i], 50 +canvas.width/2, 429 + (i * 60) );
			
		 }
     };
     imageObj.src = "./img2.jpg";*/ 
	DrowImageToCanvas(document.getElementById("originalImage").src)
	 


}

function DrowImageToCanvas(dataUrl){
	 const logoPath = document.querySelector('input[name="logoColor"]:checked').value;
	 var img = document.getElementById("originalImage");
	 var canvas = document.getElementById("myCanvas");
	 canvas.width = img.naturalWidth;
	 canvas.height = img.naturalHeight;
	 let logoSize = document.querySelector('input[name="logoSize"]:checked').value.split("x"); 
     var context = canvas.getContext("2d");
     var imageObj = new Image();
	 var myImage = new Image(logoSize[0],logoSize[1]);
	 var logoX = 0; 
	 var logoY = 0;
	 switch (document.querySelector('input[name="logoPos"]:checked').value){
		 case "1":
			logoX = 30;
			logoY = 20;
		 break;
		 case "2":
			logoX = canvas.width -logoSize[0] - 30;
			logoY = 20;
		 break;
		 case "3":
			logoX = 30;
			logoY = canvas.height - logoSize[1] -20;
		 break;
		 case "4":
			logoX = canvas.width -logoSize[0] -30;
			logoY = canvas.height -logoSize[1] -20;
		 		 
	 }
	 console.log(logoY);
	 myImage.src = logoPath;
     imageObj.onload = function(){
         context.drawImage(imageObj, 0, 0);
		 context.drawImage(myImage, logoX, logoY,logoSize[0],logoSize[1] );
         //context.font = "25pt Calibri ";
         //context.fillText("السلام عليكم ورحمة الله وبركاته ", 800, 60);
		 console.log(logoSize[0]);
     };

     //imageObj.src = document.getElementById("originalImage").src; 
	 imageObj.setAttribute("src", dataUrl);
	 
	 //imageObj.src = "./img2.jpg"; 
}
</script>

</body></html>